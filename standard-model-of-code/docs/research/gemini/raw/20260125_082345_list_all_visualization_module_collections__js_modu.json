{
  "_meta": {
    "saved_at": "2026-01-25T08:23:45.586375",
    "source": "gemini",
    "model": "gemini-3-pro-preview",
    "query": "List ALL visualization module collections: JS modules (count each), CSS token categories, control types, layout algorithms, color systems. Be specific.",
    "query_length": 151,
    "checksum": "sha256:d93f893e0d2c589acdead203e39c68638484280d1c158c85190b1ad919dbe38d"
  },
  "response": {
    "content": "Based on the codebase context provided, here is the comprehensive inventory of the visualization system's module collections.\n\n### 1. JavaScript Modules (45 Modules)\nThe system is modularized into **45** distinct functional units (42 files in `modules/` + 3 inlined in `template.html`).\n\n**Core & Infrastructure**\n1.  **main.js**: Entry point and module wiring.\n2.  **app.js**: Legacy monolith (being decomposed).\n3.  **core.js**: Foundation constants (`SELECTION_SIZE_MULT`, `PENDULUM`).\n4.  **data-manager.js (`DATA`)**: O(1) indexed lookups and cached aggregations.\n5.  **registry.js**: Centralized command and DOM element registration.\n6.  **hardware-info.js**: WebGL/GPU capability detection.\n7.  **perf-monitor.js**: FPS tracking and frame drop detection.\n8.  **refresh-throttle.js**: Frame-budget-aware render throttling.\n9.  **worker-layout.js** (Implied by architecture context, though file content not explicitly shown, standard in D3).\n\n**Visual Engine & Rendering**\n10. **animation.js (`ANIM`)**: Layout transitions and spatial hashing.\n11. **color-engine.js (`COLOR`)**: OKLCH color space mathematics and palette management.\n12. **edge-system.js (`EDGE`)**: Edge width, opacity, and gradient modes.\n13. **node-accessors.js (`NODE`)**: Standardized property getters (Tier, Family, Ring).\n14. **node-helpers.js**: Logic for node coloring and sizing modes.\n15. **tower-renderer.js**: Three.js engine for the 3D Axial Holarchy.\n16. **hull-visualizer.js**: SDF-based organic membrane rendering (GLSL shaders).\n17. **legend-manager.js**: Dynamic legend generation and filtering.\n\n**UI & Interaction**\n18. **sidebar.js**: Controls for color, physics, and layout presets.\n19. **panels.js**: Floating panel management and UI dimming.\n20. **layout.js**: UI layout engine (collision avoidance for panels).\n21. **hud.js**: Heads-up display fade behavior and stats.\n22. **hover.js**: Node hover interactions and detail panels.\n23. **selection.js (`SELECT`)**: Multi-select, marquee, and halo visuals.\n24. **control-bar.js**: Dynamic data-to-visual mapping interface.\n25. **codome-hud.js**: Level indicator for Axial layout.\n26. **settings-panel.js**: Input configuration (Mouse/Keyboard).\n27. **pipeline-navigator.js**: Interactive visualization of the analysis pipeline.\n28. **report.js**: AI insights and \"Brain Download\" rendering.\n\n**Specialized Visualizations**\n29. **flow.js**: High-entropy node highlighting and particle systems.\n30. **file-viz.js**: Orchestrator for file-based visualization modes.\n31. **file-tree-layout.js**: 3D Cone Tree algorithm implementation.\n32. **file-color-model.js**: Pure color generation strategies for files.\n33. **axial-layout.js**: Physics engine for the \"Tower\" visualization.\n34. **spatial.js**: Convex hulls and spatial hashing.\n35. **dimension.js**: 2D/3D transition animation logic.\n\n**Logic & Theory**\n36. **theory.js**: Standard Model of Code topology constants.\n37. **holarchy-mapper.js**: Transforms graph nodes into 16-level scale.\n38. **physics.js**: D3 force simulation parameter management.\n39. **layout-forces.js**: Custom D3 forces (Cluster, Cohesion, Radial).\n40. **layout-helpers.js**: Position persistence and freeze/unfreeze logic.\n41. **groups.js**: Node grouping logic.\n42. **datamap.js**: Data mapping and filtering logic.\n43. **theme.js**: Runtime theme switching.\n44. **property-query.js**: Resolution strategy for node properties.\n45. **circuit-breaker.js**: Runtime UI validator and self-test system.\n\n---\n\n### 2. CSS Token Categories\nStyles are bridged from legacy variables to a token system defined in `styles.css`.\n\n*   **Color - Backgrounds**: `bg-base`, `bg-elevated`, `bg-panel`, `bg-overlay`.\n*   **Color - Text**: `text-primary`, `text-secondary`, `text-muted`, `text-tertiary`.\n*   **Color - Accents**: `accent-primary`, `accent-secondary`, `status-success`, `status-warning`, `status-error`.\n*   **Color - Visualization**: `viz-node-glow`, `viz-edge-glow`, `viz-selection`.\n*   **Spacing**: `spacing-1` through `spacing-12` (grid system).\n*   **Typography**: `family-sans`, `family-mono`, `size-xs` through `size-2xl`.\n*   **Borders**: `border-default`, `border-strong`, `border-faint`.\n*   **Effects**: `shadow-sm` through `shadow-xl`, `blur-sm` through `blur-lg`.\n*   **Layout**: `z-index` layers, `offset` calculations, `size-panel-width`.\n\n---\n\n### 3. Control Types & UI Elements\nInteractive elements found in `template.html` and generated by JS.\n\n*   **Toggles**: Binary switches (e.g., \"Show Labels\", \"Pulse Animation\").\n*   **Sliders**: Continuous numeric inputs (e.g., \"Node Size\", \"Repulsion\").\n    *   *Meta-Slider*: \"Amplifier\" (Gamma correction for colors).\n*   **Segmented Controls**: Multi-state toggles (e.g., 2D/3D, Size Mode).\n*   **Filter Chips**: Clickable tags for Tiers, Rings, and Edge Types.\n*   **Color Swatches**: Gradient previews for scheme selection.\n*   **Action Buttons**: Grid-layout buttons (Reset, Screenshot, Freeze).\n*   **Marquee**: Drag-to-select box.\n*   **Collapsible Headers**: Accordion-style section management.\n*   **Resize Handles**: Vertical (sections) and Horizontal (sidebar) drag handles.\n\n---\n\n### 4. Layout Algorithms (12 Types)\nAvailable via `ANIM` module, `AxialLayout`, and `FILE_TREE`.\n\n1.  **Force**: Physics-based clustering (default).\n2.  **Radial**: Concentric tier rings.\n3.  **Orbital**: Planetary orbit bands based on family.\n4.  **Sphere**: Global surface distribution.\n5.  **Grid**: 3D lattice structure.\n6.  **Spiral**: DNA-like helix.\n7.  **Tree**: Hierarchical tree (Root at top).\n8.  **Galaxy**: Spiral arms based on family.\n9.  **Flock**: Swarming bird simulation (Boids).\n10. **Cone Tree**: 3D hierarchical cones for directories (`file-tree-layout.js`).\n11. **Axial (The Tower)**: Vertical 16-level holarchy (`AxialLayout.js`).\n12. **File Map**: Clustering by file association (`file-viz.js`).\n\n---\n\n### 5. Color Systems\nManaged by the `color-engine.js` (OKLCH) module.\n\n**A. Schemes (33 Named Gradients)**\n*   **Sequential**: Viridis, Plasma, Magma, Inferno, Cividis, Turbo, Mako, Rocket.\n*   **Diverging**: Coolwarm, Spectral.\n*   **Thematic**: Thermal, Nightvision, Ocean, Terrain, Electric.\n*   **Semantic Roles**: Query, Finder, Command, Creator, Destroyer, Factory, Repository, Cache, Service, Orchestrator, Validator, Guard, Transformer, Parser, Handler, Emitter, Utility, Lifecycle.\n*   **Geometry**: Rainbow-loop, Arcs, Spirals, Waves, Ramps, Helix.\n\n**B. Flow Presets (6 Modes)**\n*   **EMBER**: Orange/Red high-contrast.\n*   **OCEAN**: Cyan/Blue cool tones.\n*   **PLASMA**: Purple/Magenta neon.\n*   **MATRIX**: Green digital rain style.\n*   **PULSE**: Red/Pink alert style.\n*   **AURORA**: Teal/Aqua ethereal style.\n\n**C. Edge Modes (8 Types)**\n1.  **Gradient-Tier**: Interpolates T0 → T1 → T2.\n2.  **Gradient-File**: Interpolates between file hues.\n3.  **Gradient-Flow**: Cold (Blue) to Hot (Red) based on Markov weight.\n4.  **Gradient-Depth**: Shallow (Cyan) to Deep (Magenta).\n5.  **Gradient-Semantic**: Similar (Green) to Different (Pink).\n6.  **Type**: Categorical color by edge type.\n7.  **Weight**: Intensity based on edge weight.\n8.  **Mono**: Minimal monochrome.\n\n**D. Stagger Patterns (Animation)**\n*   Radial, Tier, Distance, File, Spiral, Random.",
    "mode": "standard"
  }
}