{
  "session_start": "2026-01-25 05:04:22",
  "session_end": "2026-01-25 05:05:08",
  "model": "gemini-3-pro-preview",
  "total_tokens_in": 230479,
  "total_tokens_out": 3098,
  "turn_count": 2,
  "turns": [
    {
      "timestamp": 1769328262.488254,
      "timestamp_str": "2026-01-25 05:04:22",
      "role": "user",
      "content": "\nUI GAP FILL: Build a control inventory for Collider UI.\nOutput JSON schema:\n- selector/id\n- visible label text\n- component type\n- handler binding location (file+line)\n- state mutated (VIS_STATE / APPEARANCE_STATE / Graph / COLOR)\n- status: wired | orphaned | dead handler\nAlso list all cfg-* IDs and data-* attributes.\n"
    },
    {
      "timestamp": 1769328308.027524,
      "timestamp_str": "2026-01-25 05:05:08",
      "role": "assistant",
      "content": "Based on the provided codebase context, here is the Control Inventory for the Collider UI.\n\n### **Overview**\nThe UI contains a mix of **active `cfg-*` controls** (bound in `sidebar.js`) and **legacy/orphaned controls** (found in the \"Appearance\" section of `template.html` or referenced in `panels.js` but missing from HTML).\n\n### **Control Inventory**\n\n```json\n[\n  {\n    \"selector\": \"#view-mode-toggle .view-mode-btn[data-mode='atoms']\",\n    \"label\": \"ATOMS\",\n    \"type\": \"Button (Segmented)\",\n    \"binding\": \"sidebar.js:initViewModeToggle\",\n    \"mutates\": \"GRAPH_MODE\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#view-mode-toggle .view-mode-btn[data-mode='files']\",\n    \"label\": \"FILES\",\n    \"type\": \"Button (Segmented)\",\n    \"binding\": \"sidebar.js:initViewModeToggle\",\n    \"mutates\": \"GRAPH_MODE\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \".btn[data-size-mode]\",\n    \"label\": \"Uniform, Degree, Fanout, Complex\",\n    \"type\": \"Button Group\",\n    \"binding\": \"sidebar.js\",\n    \"mutates\": \"Graph.nodeVal\",\n    \"status\": \"orphaned\",\n    \"notes\": \"HTML exists, but sidebar.js has no explicit binding for data-size-mode selectors, only sliders.\"\n  },\n  {\n    \"selector\": \"#cfg-node-size\",\n    \"label\": \"Base Size\",\n    \"type\": \"Slider\",\n    \"binding\": \"sidebar.js:_handleSliderChange\",\n    \"mutates\": \"APPEARANCE_STATE.nodeScale, Graph.nodeVal\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#cfg-node-opacity\",\n    \"label\": \"Opacity\",\n    \"type\": \"Slider\",\n    \"binding\": \"sidebar.js:_handleSliderChange\",\n    \"mutates\": \"APPEARANCE_STATE.nodeOpacity\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#cfg-node-res\",\n    \"label\": \"Resolution\",\n    \"type\": \"Slider\",\n    \"binding\": \"sidebar.js:_handleSliderChange\",\n    \"mutates\": \"Graph.nodeResolution\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#cfg-label-size\",\n    \"label\": \"Label Size\",\n    \"type\": \"Slider\",\n    \"binding\": \"sidebar.js:_handleSliderChange\",\n    \"mutates\": \"None\",\n    \"status\": \"dead handler\",\n    \"notes\": \"Switch case exists in JS, but logic body is empty.\"\n  },\n  {\n    \"selector\": \"#cfg-toggle-labels\",\n    \"label\": \"Show Labels\",\n    \"type\": \"Toggle\",\n    \"binding\": \"sidebar.js:_bindAppearanceControls\",\n    \"mutates\": \"VIS_FILTERS.metadata.showLabels, Graph.nodeLabel\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#cfg-toggle-highlight\",\n    \"label\": \"Highlight Selected\",\n    \"type\": \"Toggle\",\n    \"binding\": \"sidebar.js:_bindAppearanceControls\",\n    \"mutates\": \"None\",\n    \"status\": \"dead handler\",\n    \"notes\": \"Binding exists but function body is empty comment.\"\n  },\n  {\n    \"selector\": \"#cfg-toggle-pulse\",\n    \"label\": \"Pulse Animation\",\n    \"type\": \"Toggle\",\n    \"binding\": \"sidebar.js:_bindAppearanceControls\",\n    \"mutates\": \"ANIM.togglePulse\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#cfg-toggle-depth\",\n    \"label\": \"3D Depth Shading\",\n    \"type\": \"Toggle\",\n    \"binding\": \"sidebar.js:_bindAppearanceControls\",\n    \"mutates\": \"None\",\n    \"status\": \"dead handler\",\n    \"notes\": \"Binding exists but function body is empty comment.\"\n  },\n  {\n    \"selector\": \".btn[data-edge-style]\",\n    \"label\": \"Solid, Dashed, Particle\",\n    \"type\": \"Button Group\",\n    \"binding\": \"sidebar.js\",\n    \"mutates\": \"None\",\n    \"status\": \"orphaned\",\n    \"notes\": \"HTML exists but no JS listener targets data-edge-style.\"\n  },\n  {\n    \"selector\": \"#cfg-edge-opacity\",\n    \"label\": \"Opacity (Edge)\",\n    \"type\": \"Slider\",\n    \"binding\": \"sidebar.js:_handleSliderChange\",\n    \"mutates\": \"APPEARANCE_STATE.edgeOpacity\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#cfg-edge-width\",\n    \"label\": \"Width\",\n    \"type\": \"Slider\",\n    \"binding\": \"sidebar.js:_handleSliderChange\",\n    \"mutates\": \"APPEARANCE_STATE.edgeWidth, Graph.linkWidth\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#cfg-edge-curve\",\n    \"label\": \"Curvature\",\n    \"type\": \"Slider\",\n    \"binding\": \"sidebar.js:_handleSliderChange\",\n    \"mutates\": \"APPEARANCE_STATE.edgeCurvature, Graph.linkCurvature\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#cfg-particle-speed\",\n    \"label\": \"Particle Speed\",\n    \"type\": \"Slider\",\n    \"binding\": \"sidebar.js:_handleSliderChange\",\n    \"mutates\": \"Graph.linkDirectionalParticleSpeed\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#cfg-particle-count\",\n    \"label\": \"Particle Density\",\n    \"type\": \"Slider\",\n    \"binding\": \"sidebar.js:_handleSliderChange\",\n    \"mutates\": \"Graph.linkDirectionalParticles\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#cfg-toggle-arrows\",\n    \"label\": \"Show Arrows\",\n    \"type\": \"Toggle\",\n    \"binding\": \"sidebar.js:_bindAppearanceControls\",\n    \"mutates\": \"APPEARANCE_STATE.showArrows, Graph.linkDirectionalArrowLength\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#cfg-toggle-gradient\",\n    \"label\": \"Gradient Colors\",\n    \"type\": \"Toggle\",\n    \"binding\": \"sidebar.js:_bindAppearanceControls\",\n    \"mutates\": \"APPEARANCE_STATE.gradientEdges\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#cfg-toggle-edge-hover\",\n    \"label\": \"Highlight on Hover\",\n    \"type\": \"Toggle\",\n    \"binding\": \"sidebar.js\",\n    \"mutates\": \"None\",\n    \"status\": \"orphaned\",\n    \"notes\": \"HTML exists but no JS binding in sidebar.js.\"\n  },\n  {\n    \"selector\": \"#cfg-toggle-codome\",\n    \"label\": \"Show Codome Boundaries\",\n    \"type\": \"Toggle\",\n    \"binding\": \"sidebar.js\",\n    \"mutates\": \"None\",\n    \"status\": \"orphaned\",\n    \"notes\": \"HTML exists but no JS binding in sidebar.js.\"\n  },\n  {\n    \"selector\": \".btn[data-layout]\",\n    \"label\": \"Force, Radial, Orbital, Sphere...\",\n    \"type\": \"Button Grid\",\n    \"binding\": \"sidebar.js:_bindLayoutPresets\",\n    \"mutates\": \"ANIM.applyLayout\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#physics-charge\",\n    \"label\": \"Repulsion\",\n    \"type\": \"Slider\",\n    \"binding\": \"sidebar.js:_handleSliderChange\",\n    \"mutates\": \"Graph.d3Force('charge')\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#physics-link\",\n    \"label\": \"Link Distance\",\n    \"type\": \"Slider\",\n    \"binding\": \"sidebar.js:_handleSliderChange\",\n    \"mutates\": \"Graph.d3Force('link')\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#physics-center\",\n    \"label\": \"Center Pull\",\n    \"type\": \"Slider\",\n    \"binding\": \"sidebar.js:_bindPhysicsControls\",\n    \"mutates\": \"Graph.d3Force('center')\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \".btn[data-physics]\",\n    \"label\": \"Def, Tight, Loose, Boom\",\n    \"type\": \"Button Grid\",\n    \"binding\": \"sidebar.js:_bindPhysicsControls\",\n    \"mutates\": \"Graph.d3Force (multiple)\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#node-size\",\n    \"label\": \"Node Size (Legacy)\",\n    \"type\": \"Slider\",\n    \"binding\": \"sidebar.js:_handleSliderChange\",\n    \"mutates\": \"None\",\n    \"status\": \"orphaned\",\n    \"notes\": \"Legacy slider in 'Appearance' section. _handleSliderChange only checks cfg-node-size.\"\n  },\n  {\n    \"selector\": \"#edge-opacity\",\n    \"label\": \"Edge Opacity (Legacy)\",\n    \"type\": \"Slider\",\n    \"binding\": \"sidebar.js:_handleSliderChange\",\n    \"mutates\": \"None\",\n    \"status\": \"orphaned\",\n    \"notes\": \"Legacy slider in 'Appearance' section. _handleSliderChange only checks cfg-edge-opacity.\"\n  },\n  {\n    \"selector\": \"#toggle-labels\",\n    \"label\": \"Show Labels (Legacy)\",\n    \"type\": \"Toggle\",\n    \"binding\": \"sidebar.js\",\n    \"mutates\": \"None\",\n    \"status\": \"orphaned\",\n    \"notes\": \"Legacy toggle in 'Appearance' section. Only cfg-toggle-labels is bound.\"\n  },\n  {\n    \"selector\": \"#btn-reset\",\n    \"label\": \"Reset View\",\n    \"type\": \"Button\",\n    \"binding\": \"sidebar.js:_bindActionButtons\",\n    \"mutates\": \"Graph.cameraPosition\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#btn-screenshot\",\n    \"label\": \"Screenshot\",\n    \"type\": \"Button\",\n    \"binding\": \"sidebar.js:_bindActionButtons\",\n    \"mutates\": \"Canvas export\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#btn-2d\",\n    \"label\": \"Toggle 2D\",\n    \"type\": \"Button\",\n    \"binding\": \"dimension.js:setup\",\n    \"mutates\": \"IS_3D, Graph.numDimensions\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \"#btn-freeze\",\n    \"label\": \"Freeze\",\n    \"type\": \"Button\",\n    \"binding\": \"sidebar.js:_bindActionButtons\",\n    \"mutates\": \"Graph.d3AlphaTarget\",\n    \"status\": \"wired\"\n  },\n  {\n    \"selector\": \".color-btn[data-preset]\",\n    \"label\": \"Tier, Family, Layer, Ring...\",\n    \"type\": \"Button Grid\",\n    \"binding\": \"sidebar.js:initSchemeNavigator\",\n    \"mutates\": \"VIS_STATE.colorBy\",\n    \"status\": \"wired\"\n  }\n]\n```\n\n### **Identifier Lists**\n\n#### **Configuration IDs (`cfg-*`)**\nActive controls found in `template.html` and bound in `sidebar.js`:\n*   `cfg-node-size`\n*   `cfg-node-opacity`\n*   `cfg-node-res`\n*   `cfg-label-size`\n*   `cfg-toggle-labels`\n*   `cfg-toggle-highlight`\n*   `cfg-toggle-pulse`\n*   `cfg-toggle-depth`\n*   `cfg-edge-opacity`\n*   `cfg-edge-width`\n*   `cfg-edge-curve`\n*   `cfg-particle-speed`\n*   `cfg-particle-count`\n*   `cfg-toggle-arrows`\n*   `cfg-toggle-gradient`\n*   `cfg-toggle-edge-hover`\n*   `cfg-toggle-codome`\n\n#### **Data Attributes**\nAttributes used for logic logic binding in `sidebar.js`:\n*   `data-mode` (View mode toggle)\n*   `data-section` (Accordion collapse)\n*   `data-size-mode` (Node sizing logic - *Currently Orphaned*)\n*   `data-edge-style` (Edge styling logic - *Currently Orphaned*)\n*   `data-layout` (Layout preset selection)\n*   `data-physics` (Physics preset selection)\n*   `data-preset` (Color mode selection)\n*   `data-target` (Panel collapse target)"
    }
  ]
}